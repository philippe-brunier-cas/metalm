---
title: "Data Preparation "
subtitle: "metalm"
author: "philippe.brunier@cogne.com"
version: 1.0 
date: "`r Sys.Date()`"
output:
  rmdformats::readthedown:
    css: ./custom.css
    df_print: paged
    gallery: no
    highlight: default
    html_document: null
    lightbox: yes
    number_sections: yes
    self_contained: yes
    thumbnails: no
editor_options:
  chunk_output_type: console
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = TRUE,
                      warning = FALSE,
                      message = FALSE,
                      error = FALSE,
                      fig.height = 7,
                      fig.width = 10,
                      collapse = TRUE,
                      cols.print=20)
rm(list = ls(all.names = TRUE))

require(dplyr)
require(kableExtra)
require(readr)
require(reticulate)
source('~/dev/metalm/R/function.R')
```

# Creazione del database

Viene creato un database che racchiude le informazioni riassunte per sk. 
E' composto come segue:

+ tempo limite (usura)
+ forza prima passata (usura)
+ forza di picco (usura)
+ chimiche di prodotto 
+ prove meccaniche (trazioni, durezze)

(la mappatura Ã¨ coerente con le tabelle precedenti) 

```{python join dei dati, include = TRUE}
"""
import pandas 
import numpy 
import py.join_data import JoinData

file_mach = 'database_opt.csv'
file_ox = 'tabella_ox.txt'
file_wear = 'tool_wear.txt'
file_met = 'metallurgical.csv'


JoinData(file_mach = '/data/metalm/database_opt.csv',
  file_ox = '/data/metalm/tabella_ox.txt',
  file_wear = '/data/metalm/tool_wear.txt',
  file_met = '/data/metalm/metallurgical.csv',
  )
"""
```

dal file *database_opt.csv* estraiamo:

+ i valori delle differenze medie di energia

```{r aserty}

```

+ la tripla ottimale

```{r qwerty}

```


uniamo queste due informazioni al database precedente

```{r zerty}

```

contiamo le righe 

```{r serty}

```

salvo il database come .pkl, facciamo un print delle prime righe

```{python xerty}
"""
save as pkl
print df.head()
"""
```